<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PUZZLEX.AI â€“ 8 Puzzle Solver</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg1: #0f2027;
  --bg2: #203a43;
  --bg3: #2c5364;
  --primary: #00ffd5;
  --secondary: #ff4ecd;
  --accent: #7cff00;
  --glass: rgba(255,255,255,0.15);
}

* {
  box-sizing: border-box;
  font-family: 'Segoe UI', sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(-45deg, var(--bg1), var(--bg2), var(--bg3), #1b1b3a);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.app {
  width: 95%;
  max-width: 1100px;
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(18px);
  border-radius: 25px;
  padding: 30px;
  box-shadow: 0 0 40px rgba(0,255,213,0.3);
}

header {
  text-align: center;
  margin-bottom: 25px;
}

header h1 {
  font-size: 36px;
  margin: 0;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

header p {
  opacity: 0.85;
  margin-top: 8px;
}

.main {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 25px;
}

.puzzle-section {
  display: flex;
  justify-content: center;
  align-items: center;
}

.grid {
  display: grid;
  grid-template-columns: repeat(3, 95px);
  grid-template-rows: repeat(3, 95px);
  gap: 12px;
}

.tile {
  background: linear-gradient(145deg, #1f4068, #162447);
  border-radius: 18px;
  font-size: 34px;
  font-weight: bold;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow:
    0 0 15px rgba(0,255,213,0.5),
    inset 0 0 10px rgba(255,255,255,0.1);
}

.tile:hover {
  transform: scale(1.08);
  box-shadow: 0 0 25px rgba(255,78,205,0.8);
}

.empty {
  background: transparent;
  box-shadow: none;
  cursor: default;
}

.control-panel {
  background: var(--glass);
  border-radius: 22px;
  padding: 22px;
  box-shadow: inset 0 0 15px rgba(255,255,255,0.1);
}

.panel-title {
  color: var(--secondary);
  margin-bottom: 12px;
  font-size: 20px;
}

select, button {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 12px;
  border: none;
  font-size: 15px;
}

select {
  background: rgba(0,0,0,0.7);
  color: white;
}

button {
  cursor: pointer;
  font-weight: bold;
  transition: transform 0.2s, box-shadow 0.2s;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 15px rgba(255,255,255,0.4);
}

.solve {
  background: linear-gradient(90deg, var(--primary), var(--accent));
}

.shuffle {
  background: linear-gradient(90deg, var(--secondary), #ff9de2);
}

.reset {
  background: linear-gradient(90deg, #ff5555, #ff0000);
}

.stats {
  margin-top: 18px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.stat {
  background: rgba(0,0,0,0.4);
  border-radius: 14px;
  padding: 12px;
  text-align: center;
  font-size: 14px;
}

.timeline {
  margin-top: 18px;
  font-size: 14px;
  text-align: center;
}

@media (max-width: 768px) {
  .main {
    grid-template-columns: 1fr;
  }
}
</style>
</head>

<body>

<div class="app">
  <header>
    <h1>PUZZLEX.AI</h1>
    <p>Interactive 8-Puzzle Solver & Algorithm Visualizer</p>
  </header>

  <div class="main">
    <div class="puzzle-section">
      <div class="grid" id="grid"></div>
    </div>

    <div class="control-panel">
      <h3 class="panel-title">ðŸ§  Algorithm Control</h3>

      <select id="algorithm">
        <option value="bfs">Breadth First Search (BFS)</option>
        <option value="dfs">Depth First Search (DFS)</option>
      </select>

      <button class="shuffle" onclick="shuffle()">Shuffle</button>
      <button class="solve" onclick="solve()">Solve</button>
      <button class="reset" onclick="reset()">Reset</button>

      <div class="stats">
        <div class="stat">Nodes<br><span id="nodes">0</span></div>
        <div class="stat">Steps<br><span id="steps">0</span></div>
        <div class="stat">Time<br><span id="time">0</span> ms</div>
      </div>

      <div class="timeline" id="timeline">Solution timeline will appear hereâ€¦</div>
    </div>
  </div>
</div>

<script>
const goal = "123456780";
let state = goal.split("");
let solution = [];
let interval;
const grid = document.getElementById("grid");

function draw() {
  grid.innerHTML = "";
  state.forEach(n => {
    const div = document.createElement("div");
    div.className = "tile";
    if (n === "0") div.classList.add("empty");
    div.textContent = n === "0" ? "" : n;
    grid.appendChild(div);
  });
}

function reset() {
  clearInterval(interval);
  state = goal.split("");
  draw();
  nodes.textContent = steps.textContent = time.textContent = 0;
  timeline.textContent = "Solution timeline will appear hereâ€¦";
}

function shuffle() {
  reset();
  for (let i = 0; i < 40; i++) moveRandom();
  draw();
}

function moveRandom() {
  const moves = getMoves(state.join(""));
  state = moves[Math.floor(Math.random() * moves.length)].split("");
}

function getMoves(s) {
  const idx = s.indexOf("0");
  const r = Math.floor(idx / 3), c = idx % 3;
  const dirs = [];
  if (r > 0) dirs.push(-3);
  if (r < 2) dirs.push(3);
  if (c > 0) dirs.push(-1);
  if (c < 2) dirs.push(1);
  return dirs.map(d => {
    const a = s.split("");
    [a[idx], a[idx + d]] = [a[idx + d], a[idx]];
    return a.join("");
  });
}

function bfs(start) {
  const q = [[start]];
  const seen = new Set([start]);
  let nodes = 0;
  while (q.length) {
    const path = q.shift();
    const cur = path[path.length - 1];
    nodes++;
    if (cur === goal) return { path, nodes };
    for (const n of getMoves(cur)) {
      if (!seen.has(n)) {
        seen.add(n);
        q.push([...path, n]);
      }
    }
  }
}

function dfs(start, limit = 20) {
  const stack = [[start]];
  const seen = new Set([start]);
  let nodes = 0;
  while (stack.length) {
    const path = stack.pop();
    const cur = path[path.length - 1];
    nodes++;
    if (cur === goal) return { path, nodes };
    if (path.length > limit) continue;
    for (const n of getMoves(cur)) {
      if (!seen.has(n)) {
        seen.add(n);
        stack.push([...path, n]);
      }
    }
  }
}

function solve() {
  clearInterval(interval);
  const algo = algorithm.value;
  const start = state.join("");
  const t0 = performance.now();
  const result = algo === "bfs" ? bfs(start) : dfs(start);
  const t1 = performance.now();

  solution = result.path;
  nodes.textContent = result.nodes;
  steps.textContent = solution.length - 1;
  time.textContent = Math.round(t1 - t0);

  let i = 0;
  timeline.textContent = "Solving...";
  interval = setInterval(() => {
    state = solution[i].split("");
    draw();
    if (++i >= solution.length) {
      clearInterval(interval);
      timeline.textContent = "Solved successfully âœ”";
    }
  }, 500);
}

draw();
</script>

</body>
</html>
